{
   "$schema":"http://json-schema.org/draft-04/schema#",

    "description":"This schema represents a medication prescription e.g., atenolol 50 mg, 1 tablet po in the morning and 1/2 tablet in the evening.",

    "type":"object",

    "definitions": {
        "medication": {
            "$ref": "medication-1.0.json"
        },
        "medication_route": {
            "$ref": "medication-route-1.0.json",
            "default": "oral"
        },
        "medication_dose_unit_value": {
            "$ref": "medication-dose-unit-value-1.0.json"
        },
        "frequency_unit_value": {
            "$ref": "../generic/frequency-unit-value-1.0.json"
        },
        "duration_unit_value": {
            "$ref": "../generic/duration-unit-value-1.0.json"
        }
    },

    "properties": {
         "medication":{
             "$ref": "#/definitions/medication"
         },
         "medication_route": {
             "$ref": "#/definitions/medication_route"
         },
         "schedule": {
             "type": "array",
             "items": {
                 "type": "object",
                 "properties": {
                     "medication_dose_unit_value": {
                         "$ref": "#/definitions/medication_dose_unit_value"
                     },
                     "medication_dose_recurrence": {
                         "$ref": "#/definitions/frequency_unit_value"
                     }
                 },
                 "required": ["medication_dose_unit_value","medication_dose_recurrence"]
             }
         },
         "prescription_duration": {
              "$ref": "#/definitions/duration_unit_value"
         }
    },

    "required": ["medication","schedule","prescription_duration"]
}