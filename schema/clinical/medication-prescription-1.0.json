{
   "$schema":"http://json-schema.org/draft-04/schema#",

    "description":"This schema represents a medication prescription e.g., atenolol 50 mg, 1 tablet in the morning and 0.5 tablet in the evening for 30 days.",

    "type":"object",

    "definitions": {
        "medication": {
            "$ref": "medication-1.0.json"
        },
        "medication_route": {
            "$ref": "medication-route-1.0.json",
            "default": "oral"
        },
        "medication_dose_unit_value": {
            "$ref": "medication-dose-unit-value-1.0.json"
        },
        "frequency_unit_value": {
            "$ref": "../generic/frequency-unit-value-1.0.json"
        },
        "duration_unit_value": {
            "$ref": "../generic/duration-unit-value-1.0.json"
        }
    },

    "properties": {
         "medication":{
             "$ref": "#/definitions/medication"
         },
         "route": {
             "$ref": "#/definitions/medication_route"
         },
         "schedule": {
             "type": "array",
             "description": "The description of the schedule (dose and dose recurrence) for taking the medication. A medication can have different schedules for different times, hence this is an array.",
             "items": {
                 "type": "object",
                 "properties": {
                     "dose": {
                         "$ref": "#/definitions/medication_dose_unit_value"
                     },
                     "dose_recurrence": {
                         "$ref": "#/definitions/frequency_unit_value"
                     }
                 },
                 "required": ["dose","dose_recurrence"]
             }
         },
         "prescription_duration": {
              "$ref": "#/definitions/duration_unit_value"
         }
    },

    "required": ["medication","schedule","prescription_duration"]
}
