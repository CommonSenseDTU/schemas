{
   "$schema":"http://json-schema.org/draft-04/schema#",

    "description":"This schema represents a medication prescription e.g., atenolol 50 mg, 1 tablet po in the morning and 1/2 tablet in the evening.",

    "type":"object",

    "definitions": {
        "medication": {
            "$ref": "medication-1.0.json"
        },
        "route": {
            "$ref": "route-1.0.json",
            "default": "oral"
        },
        "dose_unit_value": {
            "$ref": "dose-unit-value-1.0.json"
        },
        "frequency_unit_value": {
            "$ref": "../generic/frequency-unit-value-1.0.json"
        },
        "duration_unit_value": {
            "$ref": "../generic/duration-unit-value-1.0.json"
        }
    },

    "properties": {
         "medication":{
             "$ref": "#/definitions/medication"
         },
         "route": {
             "$ref": "#/definitions/route"
         },
         "schedule": {
             "type": "array",
             "items": {
                 "type": "object",
                 "properties": {
                     "dose_unit_value": {
                         "$ref": "#/definitions/dose_unit_value"
                     },
                     "dose_recurrence": {
                         "$ref": "#/definitions/frequency_unit_value"
                     },
                     "duration": {
                         "$ref": "#/definitions/duration_unit_value"
                     }
                 }
             }
         }
    },

    "required": ["medication","schedule"]
}